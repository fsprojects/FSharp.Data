<!DOCTYPE html>
<html lang="en" data-root="https://fsprojects.github.io/FSharp.Data/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="FSharp.Data" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="FSharp.Data">
    <meta property="og:title" content="HTML Type Provider
" />
    <meta property="og:url" content="https://fsprojects.github.io/FSharp.Data/library/HtmlProvider.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://fsprojects.github.io/FSharp.Data/">
    <meta name="twitter:title" content="HTML Type Provider
">
    
    <title>HTML Type Provider
 | FSharp.Data</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fsprojects.github.io/FSharp.Data/img/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-theme-set-dark.js"></script>
    <link href="https://fsprojects.github.io/FSharp.Data/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://fsprojects.github.io/FSharp.Data/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/blob/master/LICENSE.md">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/fsprojects/FSharp.Data/blob/master/RELEASE_NOTES.md">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/">Source
                    Repository</a></li>
                <li class="nav-header active">
  Type Providers
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/CsvProvider.html">
    CSV Type Provider

  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlProvider.html">
    HTML Type Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonProvider.html">
    JSON Type Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/XmlProvider.html">
    XML Type Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/WorldBank.html">
    WorldBank Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/TypeInference.html">
    Type Inference and Missing Values

  </a>
</li>             
<li class="nav-header ">
  Utilities
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/Http.html">
    HTTP Utilities

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/CsvFile.html">
    CSV Parser

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlParser.html">
    HTML Parser

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlCssSelectors.html">
    HTML CSS selectors

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonValue.html">
    JSON Parser

  </a>
</li>             
<li class="nav-header ">
  Tutorials
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/tutorials/JsonAnonymizer.html">
    Anonymizing JSON

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/tutorials/JsonToXml.html">
    Converting between JSON and XML

  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonSchema.html">
    Using JSON Schema with the JSON Type Provider

  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
        <a href="https://fsprojects.github.io/FSharp.Data/">
            <img alt="Header menu logo" src="https://fsprojects.github.io/FSharp.Data/img/logo.png">
            <strong>FSharp.Data</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/fsprojects/FSharp.Data/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/blob/master/LICENSE.md">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/fsprojects/FSharp.Data/blob/master/RELEASE_NOTES.md">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/fsprojects/FSharp.Data/">Source
            Repository</a></li>
        <li class="nav-header active">
  Type Providers
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/CsvProvider.html">
    CSV Type Provider

  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlProvider.html">
    HTML Type Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonProvider.html">
    JSON Type Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/XmlProvider.html">
    XML Type Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/WorldBank.html">
    WorldBank Provider

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/TypeInference.html">
    Type Inference and Missing Values

  </a>
</li>             
<li class="nav-header ">
  Utilities
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/Http.html">
    HTTP Utilities

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/CsvFile.html">
    CSV Parser

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlParser.html">
    HTML Parser

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/HtmlCssSelectors.html">
    HTML CSS selectors

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonValue.html">
    JSON Parser

  </a>
</li>             
<li class="nav-header ">
  Tutorials
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/tutorials/JsonAnonymizer.html">
    Anonymizing JSON

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/tutorials/JsonToXml.html">
    Converting between JSON and XML

  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/library/JsonSchema.html">
    Using JSON Schema with the JSON Type Provider

  </a>
</li>
        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsprojects.github.io/FSharp.Data/reference/index.html">
    All Namespaces
  </a>
</li>
    </ul>
</aside>
<main>
    <div id="content">
        
<p><a href="https://mybinder.org/v2/gh/fsprojects/FSharp.Data/gh-pages?filepath=library/HtmlProvider.ipynb"><img src="../img/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="https://fsprojects.github.io/FSharp.Data//library/HtmlProvider.fsx"><img src="../img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="https://fsprojects.github.io/FSharp.Data//library/HtmlProvider.ipynb"><img src="../img/badge-notebook.svg" alt="Notebook" /></a></p>
<h1><a name="HTML-Type-Provider" class="anchor" href="#HTML-Type-Provider">HTML Type Provider</a></h1>
<p>This article demonstrates how to use the HTML type provider to read HTML tables files
in a statically typed way.</p>
<p>The HTML Type Provider takes a sample HTML document as input and generates a type based on the data
present in the columns of that sample. The column names are obtained from the first (header) row.</p>
<h2><a name="Introducing-the-provider" class="anchor" href="#Introducing-the-provider">Introducing the provider</a></h2>
<p>The type provider is located in the <code>FSharp.Data.dll</code> assembly. Assuming the assembly
is located in the <code>../../../bin</code> directory, we can load it in F# Interactive as follows:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Data</span>
</code></pre>
<h3><a name="Parsing-F1-Calendar-Data" class="anchor" href="#Parsing-F1-Calendar-Data">Parsing F1 Calendar Data</a></h3>
<p>This example shows an example of using the HTML Type Provider to extract each row from a table on a Wikipedia page.</p>
<p>Usually with HTML files headers are demarked by using the <code>&lt;th&gt;</code> tag, however this is not true in general, so the provider assumes that the
first row is headers. (This behaviour is likely to get smarter in later releases). But it highlights a general problem about HTML's strictness.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="rt">Literal</span><span class="pn">&gt;]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="prop">F1_2017_URL</span> <span class="o">=</span>
    <span class="s">&quot;https://en.wikipedia.org/wiki/2017_FIA_Formula_One_World_Championship&quot;</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="rt">F1_2017</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="rt">HtmlProvider</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs4', 7)" onmouseover="showTip(event, 'fs4', 7)" class="prop">F1_2017_URL</span><span class="pn">&gt;</span>
</code></pre>
<p>The generated type provides a type space of tables that it has managed to parse out of the given HTML Document.
Each type's name is derived from either the id, title, name, summary or caption attributes/tags provided. If none of these
entities exist then the table will simply be named <code>Tablexx</code> where xx is the position in the HTML document if all of the tables were flattened out into a list.
The <code>Load</code> method allows reading the data from a file or web resource. We could also have used a web URL instead of a local file in the sample parameter of the type provider.
The following sample calls the <code>Load</code> method with an URL that points to a live version of the same page on Wikipedia.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Download the table for the 2017 F1 calendar from Wikipedia</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">f1Calendar</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 9)" onmouseover="showTip(event, 'fs5', 9)" class="rt">F1_2017</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="id">Load</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 11)" onmouseover="showTip(event, 'fs4', 11)" class="prop">F1_2017_URL</span><span class="pn">)</span><span class="pn">.</span><span class="prop">Tables</span><span class="pn">.</span><span class="id">Calendar</span>

<span class="c">// Look at the top row, being the first race of the calendar</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="id">firstRow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 13)" onmouseover="showTip(event, 'fs7', 13)" class="id">f1Calendar</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="id">Rows</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="id">head</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="id">round</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 18)" onmouseover="showTip(event, 'fs9', 18)" class="id">firstRow</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 19)" onmouseover="showTip(event, 'fs14', 19)" class="id">Round</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 20)" onmouseover="showTip(event, 'fs15', 20)" class="id">grandPrix</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 21)" onmouseover="showTip(event, 'fs9', 21)" class="id">firstRow</span><span class="pn">.</span><span class="id">``Grand Prix``</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="id">date</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs9', 23)" onmouseover="showTip(event, 'fs9', 23)" class="id">firstRow</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24)" class="id">Date</span>

<span class="c">// Print the round, location and date for each race, corresponding to a row</span>
<span class="k">for</span> <span onmouseout="hideTip(event, 'fs18', 25)" onmouseover="showTip(event, 'fs18', 25)" class="fn">row</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs7', 26)" onmouseover="showTip(event, 'fs7', 26)" class="id">f1Calendar</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 27)" onmouseover="showTip(event, 'fs10', 27)" class="id">Rows</span> <span class="k">do</span>
    <span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="fn">printfn</span> <span class="s">&quot;Race, round </span><span class="pf">%A</span><span class="s"> is hosted at </span><span class="pf">%A</span><span class="s"> on </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs18', 29)" onmouseover="showTip(event, 'fs18', 29)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 30)" onmouseover="showTip(event, 'fs14', 30)" class="id">Round</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="fn">row</span><span class="pn">.</span><span class="id">``Grand Prix``</span> <span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 33)" onmouseover="showTip(event, 'fs17', 33)" class="id">Date</span>
</code></pre>
<table class="pre"><tr><td><pre><code>Race, round "1" is hosted at "Australian Grand Prix" on "26 March"
Race, round "2" is hosted at "Chinese Grand Prix" on "9 April"
Race, round "3" is hosted at "Bahrain Grand Prix" on "16 April"
Race, round "4" is hosted at "Russian Grand Prix" on "30 April"
Race, round "5" is hosted at "Spanish Grand Prix" on "14 May"
Race, round "6" is hosted at "Monaco Grand Prix" on "28 May"
Race, round "7" is hosted at "Canadian Grand Prix" on "11 June"
Race, round "8" is hosted at "Azerbaijan Grand Prix" on "25 June"
Race, round "9" is hosted at "Austrian Grand Prix" on "9 July"
Race, round "10" is hosted at "British Grand Prix" on "16 July"
Race, round "11" is hosted at "Hungarian Grand Prix" on "30 July"
Race, round "12" is hosted at "Belgian Grand Prix" on "27 August"
Race, round "13" is hosted at "Italian Grand Prix" on "3 September"
Race, round "14" is hosted at "Singapore Grand Prix" on "17 September"
Race, round "15" is hosted at "Malaysian Grand Prix" on "1 October"
Race, round "16" is hosted at "Japanese Grand Prix" on "8 October"
Race, round "17" is hosted at "United States Grand Prix" on "22 October"
Race, round "18" is hosted at "Mexican Grand Prix" on "29 October"
Race, round "19" is hosted at "Brazilian Grand Prix" on "12 November"
Race, round "20" is hosted at "Abu Dhabi Grand Prix" on "26 November"
Race, round "Source: [63]" is hosted at "Source: [63]" on "Source: [63]"
val f1Calendar: HtmlProvider&lt;...&gt;.Calendar
val firstRow: HtmlProvider&lt;...&gt;.Calendar.Row =
  ("1", "Australian Grand Prix", "Albert Park Circuit, Melbourne", "26 March")
val round: string = "1"
val grandPrix: string = "Australian Grand Prix"
val date: string = "26 March"
val it: unit = ()</code></pre></td></tr></table>
<p>The generated type has a property <code>Rows</code> that returns the data from the HTML file as a
collection of rows. We iterate over the rows using a <code>for</code> loop. As you can see the
(generated) type for rows has properties such as <code>Grand Prix</code>, <code>Circuit</code>, <code>Round</code> and <code>Date</code> that correspond
to the columns in the selected HTML table file.</p>
<p>As you can see, the type provider also infers types of individual rows. The <code>Date</code>
property is inferred to be a <code>DateTime</code> (because the values in the sample file can all
be parsed as dates) while other columns are inferred as the correct type where possible.</p>
<h3><a name="Parsing-Nuget-package-stats" class="anchor" href="#Parsing-Nuget-package-stats">Parsing Nuget package stats</a></h3>
<p>This small sample shows how the HTML Type Provider can be used to scrape data from a website. In this example, we analyze the download counts of the FSharp.Data package on NuGet.
Note that we're using the live URL as the sample, so we can just use the default constructor as the runtime data will be the same as the compile time data.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Configure the type provider</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="rt">NugetStats</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 35)" onmouseover="showTip(event, 'fs6', 35)" class="rt">HtmlProvider</span><span class="pn">&lt;</span><span class="s">&quot;https://www.nuget.org/packages/FSharp.Data&quot;</span><span class="pn">&gt;</span>

<span class="c">// load the live package stats for FSharp.Data</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="id">rawStats</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 37)" onmouseover="showTip(event, 'fs20', 37)" class="fn">NugetStats</span><span class="pn">(</span><span class="pn">)</span><span class="pn">.</span><span class="prop">Tables</span><span class="pn">.</span><span class="id">``Version History of FSharp.Data``</span>

<span class="c">// helper function to analyze version numbers from Nuget</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 38)" onmouseover="showTip(event, 'fs22', 38)" class="fn">getMinorVersion</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs23', 39)" onmouseover="showTip(event, 'fs23', 39)" class="fn">v</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs24', 40)" onmouseover="showTip(event, 'fs24', 40)" class="rt">string</span><span class="pn">)</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 42)" onmouseover="showTip(event, 'fs26', 42)" class="id">Text</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 43)" onmouseover="showTip(event, 'fs27', 43)" class="id">RegularExpressions</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs28', 44)" onmouseover="showTip(event, 'fs28', 44)" class="id">Regex</span><span class="pn">(</span><span class="s">@&quot;\d.\d&quot;</span><span class="pn">)</span><span class="pn">.</span><span class="id">Match</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs23', 45)" onmouseover="showTip(event, 'fs23', 45)" class="fn">v</span><span class="pn">)</span><span class="pn">.</span><span class="id">Value</span>

<span class="c">// group by minor version and calculate the download count</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 46)" onmouseover="showTip(event, 'fs29', 46)" class="id">stats</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs21', 47)" onmouseover="showTip(event, 'fs21', 47)" class="id">rawStats</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs30', 48)" onmouseover="showTip(event, 'fs30', 48)" class="id">Rows</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 49)" onmouseover="showTip(event, 'fs11', 49)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 50)" onmouseover="showTip(event, 'fs31', 50)" class="id">groupBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 51)" onmouseover="showTip(event, 'fs32', 51)" class="fn">r</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 52)" onmouseover="showTip(event, 'fs22', 52)" class="fn">getMinorVersion</span> <span onmouseout="hideTip(event, 'fs32', 53)" onmouseover="showTip(event, 'fs32', 53)" class="fn">r</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="id">Version</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 55)" onmouseover="showTip(event, 'fs11', 55)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 56)" onmouseover="showTip(event, 'fs34', 56)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs35', 57)" onmouseover="showTip(event, 'fs35', 57)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs36', 58)" onmouseover="showTip(event, 'fs36', 58)" class="fn">xs</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs35', 59)" onmouseover="showTip(event, 'fs35', 59)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs36', 60)" onmouseover="showTip(event, 'fs36', 60)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 61)" onmouseover="showTip(event, 'fs11', 61)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs37', 62)" onmouseover="showTip(event, 'fs37', 62)" class="id">sumBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs38', 63)" onmouseover="showTip(event, 'fs38', 63)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs38', 64)" onmouseover="showTip(event, 'fs38', 64)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 65)" onmouseover="showTip(event, 'fs39', 65)" class="id">Downloads</span><span class="pn">)</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 66)" onmouseover="showTip(event, 'fs11', 66)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs40', 67)" onmouseover="showTip(event, 'fs40', 67)" class="id">toArray</span>
</code></pre>
<table class="pre"><tr><td><pre><code>type NugetStats = HtmlProvider&lt;...&gt;
val rawStats: HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData
val getMinorVersion: v: string -&gt; string
val stats: (string * decimal) array =
  [|("8.1", 70M); ("8.0", 1550M); ("7.0", 2481M); ("6.7", 472M);
    ("6.6", 414284M); ("6.5", 4331M); ("6.4", 771781M); ("6.3", 448164M);
    ("6.2", 173043M); ("6.1", 3404M); ("6.0", 19559M); ("5.0", 541257M);
    ("4.2", 556643M)|]</code></pre></td></tr></table>
<h3><a name="Getting-statistics-on-Doctor-Who" class="anchor" href="#Getting-statistics-on-Doctor-Who">Getting statistics on Doctor Who</a></h3>
<p>This sample shows some more screen scraping from Wikipedia:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs3', 68)" onmouseover="showTip(event, 'fs3', 68)" class="rt">Literal</span><span class="pn">&gt;]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 69)" onmouseover="showTip(event, 'fs41', 69)" class="prop">DrWho</span> <span class="o">=</span>
    <span class="s">&quot;https://en.wikipedia.org/wiki/List_of_Doctor_Who_episodes_(1963%E2%80%931989)&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 70)" onmouseover="showTip(event, 'fs42', 70)" class="id">doctorWho</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs6', 71)" onmouseover="showTip(event, 'fs6', 71)" class="rt">HtmlProvider</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs41', 72)" onmouseover="showTip(event, 'fs41', 72)" class="prop">DrWho</span><span class="pn">&gt;</span><span class="pn">(</span><span class="pn">)</span>

<span class="c">// Get the average number of viewers for each doctor&#39;s series run</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 73)" onmouseover="showTip(event, 'fs43', 73)" class="id">viewersByDoctor</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs42', 74)" onmouseover="showTip(event, 'fs42', 74)" class="id">doctorWho</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs44', 75)" onmouseover="showTip(event, 'fs44', 75)" class="prop">Tables</span><span class="pn">.</span><span class="prop">``Season 1 (1963-1964)``</span><span class="pn">.</span><span class="id">Rows</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 76)" onmouseover="showTip(event, 'fs11', 76)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 77)" onmouseover="showTip(event, 'fs31', 77)" class="id">groupBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs45', 78)" onmouseover="showTip(event, 'fs45', 78)" class="fn">season</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs45', 79)" onmouseover="showTip(event, 'fs45', 79)" class="fn">season</span><span class="pn">.</span><span class="id">``Directed by``</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 80)" onmouseover="showTip(event, 'fs11', 80)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 81)" onmouseover="showTip(event, 'fs34', 81)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs46', 82)" onmouseover="showTip(event, 'fs46', 82)" class="fn">doctor</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs47', 83)" onmouseover="showTip(event, 'fs47', 83)" class="fn">seasons</span><span class="pn">)</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 84)" onmouseover="showTip(event, 'fs48', 84)" class="fn">averaged</span> <span class="o">=</span>
            <span onmouseout="hideTip(event, 'fs47', 85)" onmouseover="showTip(event, 'fs47', 85)" class="fn">seasons</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 86)" onmouseover="showTip(event, 'fs11', 86)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs49', 87)" onmouseover="showTip(event, 'fs49', 87)" class="id">averageBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs45', 88)" onmouseover="showTip(event, 'fs45', 88)" class="fn">season</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs45', 89)" onmouseover="showTip(event, 'fs45', 89)" class="fn">season</span><span class="pn">.</span><span class="id">``UK viewers (millions)``</span><span class="pn">)</span>

        <span onmouseout="hideTip(event, 'fs46', 90)" onmouseover="showTip(event, 'fs46', 90)" class="fn">doctor</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs48', 91)" onmouseover="showTip(event, 'fs48', 91)" class="fn">averaged</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 92)" onmouseover="showTip(event, 'fs11', 92)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs40', 93)" onmouseover="showTip(event, 'fs40', 93)" class="id">toArray</span>
</code></pre>
<table class="pre"><tr><td><pre><code>[&lt;Literal&gt;]
val DrWho: string
  =
  "https://en.wikipedia.org/wiki/List_of_Doctor_Who_episodes_(1963%E2%80%931989)"
val doctorWho: HtmlProvider&lt;...&gt;
val viewersByDoctor: (string * float) array =
  [|("Waris Hussein", 8.0); ("", nan); ("Christopher Barry", 8.275);
    ("Richard Martin", 10.025); ("Frank Cox", 7.9); ("John Crockett", 8.0);
    ("John Gorrie", 9.066666667); ("Mervyn Pinfield", 6.925);
    ("Henric Hirsch", 6.733333333)|]</code></pre></td></tr></table>
<h2><a name="Related-articles" class="anchor" href="#Related-articles">Related articles</a></h2>
<ul>
<li>
<a href="HtmlParser.html">HTML Parser</a> - provides more information about
working with HTML documents dynamically.
</li>
</ul>

        <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs3">Multiple items<br />type LiteralAttribute =
  inherit Attribute
  new: unit -&gt; LiteralAttribute<br /><br />--------------------<br />new: unit -&gt; LiteralAttribute</div>
<div class="fsdocs-tip" id="fs4">[&lt;Literal&gt;]
val F1_2017_URL: string = &quot;https://en.wikipedia.org/wiki/2017_FIA_Formula_One_World_Championship&quot;</div>
<div class="fsdocs-tip" id="fs5">type F1_2017 = HtmlProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs6">type HtmlProvider<br /><em>&lt;summary&gt;Typed representation of an HTML file.&lt;/summary&gt;
           &lt;param name=&#39;Sample&#39;&gt;Location of an HTML sample file or a string containing a sample HTML document.&lt;/param&gt;
           &lt;param name=&#39;PreferOptionals&#39;&gt;When set to true, inference will prefer to use the option type instead of nullable types, &lt;c&gt;double.NaN&lt;/c&gt; or &lt;c&gt;&quot;&quot;&lt;/c&gt; for missing values. Defaults to false.&lt;/param&gt;
           &lt;param name=&#39;IncludeLayoutTables&#39;&gt;Includes tables that are potentially layout tables (with cellpadding=0 and cellspacing=0 attributes)&lt;/param&gt;
           &lt;param name=&#39;MissingValues&#39;&gt;The set of strings recognized as missing values. Defaults to &lt;c&gt;NaN,NA,N/A,#N/A,:,-,TBA,TBD&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;
           &lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless &lt;c&gt;charset&lt;/c&gt; is specified in the &lt;c&gt;Content-Type&lt;/c&gt; response header.&lt;/param&gt;
           &lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;
           &lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource 
              (e.g. &#39;MyCompany.MyAssembly, resource_name.html&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;
           &lt;param name=&#39;PreferDateOnly&#39;&gt;When true on .NET 6+, date-only strings are inferred as DateOnly and time-only strings as TimeOnly. Defaults to false for backward compatibility.&lt;/param&gt;
        </em></div>
<div class="fsdocs-tip" id="fs7">val f1Calendar: HtmlProvider&lt;...&gt;.Calendar</div>
<div class="fsdocs-tip" id="fs8">HtmlProvider&lt;...&gt;.Load(uri: string) : HtmlProvider&lt;...&gt;<br /><em>Loads HTML from the specified uri</em><br />HtmlProvider&lt;...&gt;.Load(reader: System.IO.TextReader) : HtmlProvider&lt;...&gt;<br /><em>Loads HTML from the specified reader</em><br />HtmlProvider&lt;...&gt;.Load(stream: System.IO.Stream) : HtmlProvider&lt;...&gt;<br /><em>Loads HTML from the specified stream</em></div>
<div class="fsdocs-tip" id="fs9">val firstRow: HtmlProvider&lt;...&gt;.Calendar.Row</div>
<div class="fsdocs-tip" id="fs10">property Runtime.BaseTypes.HtmlTable.Rows: HtmlProvider&lt;...&gt;.Calendar.Row array with get</div>
<div class="fsdocs-tip" id="fs11">module Seq

from Microsoft.FSharp.Collections</div>
<div class="fsdocs-tip" id="fs12">val head: source: &#39;T seq -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs13">val round: string</div>
<div class="fsdocs-tip" id="fs14">property HtmlProvider&lt;...&gt;.Calendar.Row.Round: string with get</div>
<div class="fsdocs-tip" id="fs15">val grandPrix: string</div>
<div class="fsdocs-tip" id="fs16">val date: string</div>
<div class="fsdocs-tip" id="fs17">property HtmlProvider&lt;...&gt;.Calendar.Row.Date: string with get</div>
<div class="fsdocs-tip" id="fs18">val row: HtmlProvider&lt;...&gt;.Calendar.Row</div>
<div class="fsdocs-tip" id="fs19">val printfn: format: Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs20">type NugetStats = HtmlProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs21">val rawStats: HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData</div>
<div class="fsdocs-tip" id="fs22">val getMinorVersion: v: string -&gt; string</div>
<div class="fsdocs-tip" id="fs23">val v: string</div>
<div class="fsdocs-tip" id="fs24">Multiple items<br />val string: value: &#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="fsdocs-tip" id="fs25">namespace System</div>
<div class="fsdocs-tip" id="fs26">namespace System.Text</div>
<div class="fsdocs-tip" id="fs27">namespace System.Text.RegularExpressions</div>
<div class="fsdocs-tip" id="fs28">Multiple items<br />type Regex =
  interface ISerializable
  new: pattern: string -&gt; unit + 2 overloads
  member Count: input: string -&gt; int + 8 overloads
  member EnumerateMatches: input: ReadOnlySpan&lt;char&gt; -&gt; ValueMatchEnumerator + 4 overloads
  member GetGroupNames: unit -&gt; string array
  member GetGroupNumbers: unit -&gt; int array
  member GroupNameFromNumber: i: int -&gt; string
  member GroupNumberFromName: name: string -&gt; int
  member IsMatch: input: ReadOnlySpan&lt;char&gt; -&gt; bool + 9 overloads
  member Match: input: string -&gt; Match + 5 overloads
  ...<br /><em>&lt;summary&gt;Represents an immutable regular expression.&lt;/summary&gt;</em><br /><br />--------------------<br />System.Text.RegularExpressions.Regex(pattern: string) : System.Text.RegularExpressions.Regex<br />System.Text.RegularExpressions.Regex(pattern: string, options: System.Text.RegularExpressions.RegexOptions) : System.Text.RegularExpressions.Regex<br />System.Text.RegularExpressions.Regex(pattern: string, options: System.Text.RegularExpressions.RegexOptions, matchTimeout: System.TimeSpan) : System.Text.RegularExpressions.Regex</div>
<div class="fsdocs-tip" id="fs29">val stats: (string * decimal) array</div>
<div class="fsdocs-tip" id="fs30">property Runtime.BaseTypes.HtmlTable.Rows: HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData.Row array with get</div>
<div class="fsdocs-tip" id="fs31">val groupBy: projection: (&#39;T -&gt; &#39;Key) -&gt; source: &#39;T seq -&gt; (&#39;Key * &#39;T seq) seq (requires equality)</div>
<div class="fsdocs-tip" id="fs32">val r: HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData.Row</div>
<div class="fsdocs-tip" id="fs33">property HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData.Row.Version: string with get</div>
<div class="fsdocs-tip" id="fs34">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; source: &#39;T seq -&gt; &#39;U seq</div>
<div class="fsdocs-tip" id="fs35">val k: string</div>
<div class="fsdocs-tip" id="fs36">val xs: HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData.Row seq</div>
<div class="fsdocs-tip" id="fs37">val sumBy: projection: (&#39;T -&gt; &#39;U) -&gt; source: &#39;T seq -&gt; &#39;U (requires member (+) and member Zero)</div>
<div class="fsdocs-tip" id="fs38">val x: HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData.Row</div>
<div class="fsdocs-tip" id="fs39">property HtmlProvider&lt;...&gt;.VersionHistoryOfFSharpData.Row.Downloads: decimal with get</div>
<div class="fsdocs-tip" id="fs40">val toArray: source: &#39;T seq -&gt; &#39;T array</div>
<div class="fsdocs-tip" id="fs41">[&lt;Literal&gt;]
val DrWho: string = &quot;https://en.wikipedia.org/wiki/List_of_Doctor_Who_episodes_(1963%E2%80%931989)&quot;</div>
<div class="fsdocs-tip" id="fs42">val doctorWho: HtmlProvider&lt;...&gt;</div>
<div class="fsdocs-tip" id="fs43">val viewersByDoctor: (string * float) array</div>
<div class="fsdocs-tip" id="fs44">property HtmlProvider&lt;...&gt;.Tables: HtmlProvider&lt;...&gt;.TablesContainer with get</div>
<div class="fsdocs-tip" id="fs45">val season: HtmlProvider&lt;...&gt;.Season119631964.Row</div>
<div class="fsdocs-tip" id="fs46">val doctor: string</div>
<div class="fsdocs-tip" id="fs47">val seasons: HtmlProvider&lt;...&gt;.Season119631964.Row seq</div>
<div class="fsdocs-tip" id="fs48">val averaged: float</div>
<div class="fsdocs-tip" id="fs49">val averageBy: projection: (&#39;T -&gt; &#39;U) -&gt; source: &#39;T seq -&gt; &#39;U (requires member (+) and member DivideByInt and member Zero)</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#HTML-Type-Provider">
      HTML Type Provider
    </a>
  </li>
  <li class="level-2">
    <a href="#Introducing-the-provider">
      Introducing the provider
    </a>
  </li>
  <li class="level-3">
    <a href="#Parsing-F1-Calendar-Data">
      Parsing F1 Calendar Data
    </a>
  </li>
  <li class="level-3">
    <a href="#Parsing-Nuget-package-stats">
      Parsing Nuget package stats
    </a>
  </li>
  <li class="level-3">
    <a href="#Getting-statistics-on-Doctor-Who">
      Getting statistics on Doctor Who
    </a>
  </li>
  <li class="level-2">
    <a href="#Related-articles">
      Related articles
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-tips.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-theme.js"></script>
<script type="module" src="https://fsprojects.github.io/FSharp.Data/content/fsdocs-search.js"></script>

</body>
</html>