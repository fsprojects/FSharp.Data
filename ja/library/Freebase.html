<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>F# Data: Freebase プロバイダー
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The F# Data library implements type providers for working with structured file formats (CSV, JSON and XML) and for accessing the WorldBank and Freebase services. It also includes helpers for other data-related tasks.">
    <meta name="author" content="Tomas Petricek; Gustavo Guerra">

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="/FSharp.Data/ja/../content/style.css" />
    <link type="text/css" rel="stylesheet" href="/FSharp.Data/ja/../content/fsdata.css" />
    <script type="text/javascript" src="/FSharp.Data/ja/../content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://bluemountaincapital.github.io/Deedle"><img height="16" width="16" src="http://fsharp.org/images/thumbs/Deedle.png" /> Deedle</a></li>
          <li><a href="http://bluemountaincapital.github.io/FSharpRProvider"><img height=" 16" width="16" src="http://fsharp.org/images/thumbs/FSharpRProvider.png" /> R Provider</a></li>
          <li><a href="http://fsharp.github.io/FSharp.Charting/"><img height="16" width="16" src="http://fsharp.org/images/thumbs/FSharp.Charting.png" /> F# Charting</a></li>
        </ul>
        <h3 class="muted"><a href="/FSharp.Data/ja/index.html">F# Data</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>F# Data: Freebase プロバイダー</h1>

<p><a href="http://www.freebase.com">Freebase グラフデータベース</a> には
2,300万件以上の情報が格納されています。
この中からは書籍や映画、歴史的人物や出来事、化学元素など、
ありとあらゆる情報が互いに関連を持った形で見つけられます。</p>

<p>Freebase 型プロバイダーを使うと、こういった情報を手軽に取ってきて、
厳密に型付けされた状態でデータの山から宝物を見つけ出すことができます。</p>

<p>この型プロバイダーは <a href="http://www.tryfsharp.org">Try F#</a> の
サイトにある「Data Science」のチュートリアルでも使われています。
そのためそちらも是非参考にしてみてください。
Visual Studio F#チームのブログではこの型プロバイダーについて
4つの記事が
<a href="http://blogs.msdn.com/b/fsharpteam/archive/2012/09/21/the-f-3-0-freebase-type-provider-sample-integrating-internet-scale-data-sources-into-a-strongly-typed-language.aspx">こちら</a>
に掲載されています。
また、Don Syme氏による動画デモが
<a href="http://skillsmatter.com/podcast/scala/an-informal-deep-dive-with-don-syme-the-freebase-type-provider">こちら</a>
で見られます。</p>

<h2>プロバイダーの基本</h2>

<p>以下のコードでは <code>FSharp.Data.dll</code> ライブラリを(F# Interactive上で)読み込み、
<code>GetDataContext</code> メソッドを使ってFreebaseへの接続を初期化しています：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="prep">#r</span> <span class="s">&quot;</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">bin</span><span class="s">/</span><span class="s">FSharp</span><span class="s">.</span><span class="s">Data</span><span class="s">.</span><span class="s">dll</span><span class="s">&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Data</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">data</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">FreebaseData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">GetDataContext</span>()</pre>
</td>
</tr>
</table>

<h3>Freebaseデータの探索</h3>

<p>さてこれで <code>data.</code> と入力して表示される自動コンプリートの
リストをチェックするとFreebaseのデータスキーマを探索することができます。
たとえば以下のコードでは化学元素(Chemical Elements)のデータを取得して
水素(Hydrogen)の詳細情報を表示させています：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">elements</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 7)" onmouseover="showTip(event, 'fs3', 7)" class="i">data</span><span class="o">.</span><span class="i">``Science and Technology``</span><span class="o">.</span><span class="i">Chemistry</span><span class="o">.</span><span class="i">``Chemical Elements``</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="i">all</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 9)" onmouseover="showTip(event, 'fs6', 9)" class="i">elements</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="i">toList</span>
<span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="i">printfn</span> <span class="s">&quot;</span><span class="s">見つかった元素の数</span><span class="s">:</span><span class="s"> </span><span class="s">%</span><span class="s">d</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="i">length</span> <span onmouseout="hideTip(event, 'fs7', 15)" onmouseover="showTip(event, 'fs7', 15)" class="i">all</span>)

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="i">hydrogen</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 17)" onmouseover="showTip(event, 'fs6', 17)" class="i">elements</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="i">Individuals</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 19)" onmouseover="showTip(event, 'fs14', 19)" class="i">Hydrogen</span>
<span onmouseout="hideTip(event, 'fs10', 20)" onmouseover="showTip(event, 'fs10', 20)" class="i">printfn</span> <span class="s">&quot;</span><span class="s">原子番号</span><span class="s">:</span><span class="s"> </span><span class="s">%</span><span class="s">A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs12', 21)" onmouseover="showTip(event, 'fs12', 21)" class="i">hydrogen</span><span class="o">.</span><span class="i">``Atomic number``</span></pre>
</td>
</tr>
</table>

<h3>テストケースの生成</h3>

<p>Freebaseには非常に多様なデータがあるため、
ありとあらゆる用途にこのデータベースを利用できます。
以下のコードではデータベース上の婚姻データを使って
それらしい名前をテスト用に生成しています。
まず2つの配列を用意します。
1つは(婚姻データを元にした)100件の名、そしてもう1つは
(Freebaseに登録されている名字リストを元にした)100件の姓を含んでいます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="i">firstnames</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs3', 23)" onmouseover="showTip(event, 'fs3', 23)" class="i">data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="i">Society</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="i">Celebrities</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="i">Celebrities</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 27)" onmouseover="showTip(event, 'fs8', 27)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="i">truncate</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 29)" onmouseover="showTip(event, 'fs8', 29)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 30)" onmouseover="showTip(event, 'fs20', 30)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs21', 31)" onmouseover="showTip(event, 'fs21', 31)" class="i">celeb</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs21', 32)" onmouseover="showTip(event, 'fs21', 32)" class="i">celeb</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="i">Name</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 34)" onmouseover="showTip(event, 'fs23', 34)" class="i">Split</span>(<span class="s">&#39; &#39;</span>)<span class="o">.</span>[<span class="n">0</span>])
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 35)" onmouseover="showTip(event, 'fs24', 35)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 36)" onmouseover="showTip(event, 'fs25', 36)" class="i">ofSeq</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 37)" onmouseover="showTip(event, 'fs26', 37)" class="i">surnames</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs3', 38)" onmouseover="showTip(event, 'fs3', 38)" class="i">data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 39)" onmouseover="showTip(event, 'fs16', 39)" class="i">Society</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 40)" onmouseover="showTip(event, 'fs27', 40)" class="i">People</span><span class="o">.</span><span class="i">``Family names``</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 41)" onmouseover="showTip(event, 'fs8', 41)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs19', 42)" onmouseover="showTip(event, 'fs19', 42)" class="i">truncate</span> <span class="n">100</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 43)" onmouseover="showTip(event, 'fs8', 43)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 44)" onmouseover="showTip(event, 'fs20', 44)" class="i">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs28', 45)" onmouseover="showTip(event, 'fs28', 45)" class="i">name</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs28', 46)" onmouseover="showTip(event, 'fs28', 46)" class="i">name</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 47)" onmouseover="showTip(event, 'fs22', 47)" class="i">Name</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 48)" onmouseover="showTip(event, 'fs24', 48)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 49)" onmouseover="showTip(event, 'fs25', 49)" class="i">ofSeq</span></pre>
</td>
</tr>
</table>

<p>それらしいテストケース用のデータを生成するためには
これらの配列からランダムに要素を抽出するヘルパ関数を用意して、
ランダム取り出した名と姓を連結します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 50)" onmouseover="showTip(event, 'fs29', 50)" class="i">randomElement</span> <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 51)" onmouseover="showTip(event, 'fs30', 51)" class="i">random</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs31', 52)" onmouseover="showTip(event, 'fs31', 52)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 53)" onmouseover="showTip(event, 'fs32', 53)" class="i">Random</span>()
    <span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="i">arr</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 55)" onmouseover="showTip(event, 'fs34', 55)" class="i">string</span>[]) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs33', 56)" onmouseover="showTip(event, 'fs33', 56)" class="i">arr</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs30', 57)" onmouseover="showTip(event, 'fs30', 57)" class="i">random</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 58)" onmouseover="showTip(event, 'fs35', 58)" class="i">Next</span>(<span onmouseout="hideTip(event, 'fs33', 59)" onmouseover="showTip(event, 'fs33', 59)" class="i">arr</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 60)" onmouseover="showTip(event, 'fs36', 60)" class="i">Length</span>)]

<span class="k">for</span> <span onmouseout="hideTip(event, 'fs37', 61)" onmouseover="showTip(event, 'fs37', 61)" class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">10</span> <span class="k">do</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 62)" onmouseover="showTip(event, 'fs38', 62)" class="i">name</span> <span class="o">=</span> 
    (<span onmouseout="hideTip(event, 'fs29', 63)" onmouseover="showTip(event, 'fs29', 63)" class="i">randomElement</span> <span onmouseout="hideTip(event, 'fs15', 64)" onmouseover="showTip(event, 'fs15', 64)" class="i">firstnames</span>) <span class="o">+</span> <span class="s">&quot;</span><span class="s"> </span><span class="s">&quot;</span> <span class="o">+</span>
    (<span onmouseout="hideTip(event, 'fs29', 65)" onmouseover="showTip(event, 'fs29', 65)" class="i">randomElement</span> <span onmouseout="hideTip(event, 'fs26', 66)" onmouseover="showTip(event, 'fs26', 66)" class="i">surnames</span>)
  <span onmouseout="hideTip(event, 'fs10', 67)" onmouseover="showTip(event, 'fs10', 67)" class="i">printfn</span> <span class="s">&quot;</span><span class="s">%</span><span class="s">s</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs38', 68)" onmouseover="showTip(event, 'fs38', 68)" class="i">name</span></pre>
</td>
</tr>
</table>

<h2>Freebaseのデータにクエリを投げる</h2>

<p>先ほどの例ではFreebase 型プロバイダーから返されたコレクションを処理するために
<code>Seq</code> 関数を使っていました。
単純な場合にはこれでいいのですが、そうではなくデータをフィルタしたり
クエリを投げたりする必要がある場合にはこのままではうまくいきません。</p>

<p>そこでFreebase プロバイダーにはクエリをサポートするための機能が用意されています。
F# 3.0のLINQシンタックスで記述されたクエリは
(Freebaseで使われているクエリ言語である)MQLに変換されます。
これはつまりF# 3.0であれば自動補完のサポートも有効で、
厳密に型付けされた方法でクエリを作成できる上に、
少なくともMQLへと変換されたクエリはFreebaseのサーバー上で
効率的に処理されるというわけです。</p>

<p>以下では地球からの距離とあわせて恒星の名前を取得しています
(距離が不定のデータは除きます)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 69)" onmouseover="showTip(event, 'fs39', 69)" class="i">astronomy</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 70)" onmouseover="showTip(event, 'fs3', 70)" class="i">data</span><span class="o">.</span><span class="i">``Science and Technology``</span><span class="o">.</span><span class="i">Astronomy</span>

<span onmouseout="hideTip(event, 'fs40', 71)" onmouseover="showTip(event, 'fs40', 71)" class="i">query</span> { <span class="k">for</span> <span onmouseout="hideTip(event, 'fs41', 72)" onmouseover="showTip(event, 'fs41', 72)" class="i">e</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs39', 73)" onmouseover="showTip(event, 'fs39', 73)" class="i">astronomy</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 74)" onmouseover="showTip(event, 'fs42', 74)" class="i">Stars</span> <span class="k">do</span> 
        <span onmouseout="hideTip(event, 'fs43', 75)" onmouseover="showTip(event, 'fs43', 75)" class="k">where</span> <span onmouseout="hideTip(event, 'fs41', 76)" onmouseover="showTip(event, 'fs41', 76)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 77)" onmouseover="showTip(event, 'fs44', 77)" class="i">Distance</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 78)" onmouseover="showTip(event, 'fs45', 78)" class="i">HasValue</span>
        <span onmouseout="hideTip(event, 'fs46', 79)" onmouseover="showTip(event, 'fs46', 79)" class="k">select</span> (<span onmouseout="hideTip(event, 'fs41', 80)" onmouseover="showTip(event, 'fs41', 80)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 81)" onmouseover="showTip(event, 'fs22', 81)" class="i">Name</span>, <span onmouseout="hideTip(event, 'fs41', 82)" onmouseover="showTip(event, 'fs41', 82)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 83)" onmouseover="showTip(event, 'fs44', 83)" class="i">Distance</span>) } 
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 84)" onmouseover="showTip(event, 'fs8', 84)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 85)" onmouseover="showTip(event, 'fs9', 85)" class="i">toList</span></pre>
</td>
</tr>
</table>

<p>例では簡単のために、まず恒星に関するデータを <code>astronomy</code> という名前で定義しています。
また、クエリを実際に実行するために、最後に <code>Seq.toList</code> を呼び出す必要もあります。</p>

<p>以下のクエリは距離が分かっていて、地球に近い恒星のデータを返します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs40', 86)" onmouseover="showTip(event, 'fs40', 86)" class="i">query</span> { <span class="k">for</span> <span onmouseout="hideTip(event, 'fs41', 87)" onmouseover="showTip(event, 'fs41', 87)" class="i">e</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs39', 88)" onmouseover="showTip(event, 'fs39', 88)" class="i">astronomy</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 89)" onmouseover="showTip(event, 'fs42', 89)" class="i">Stars</span> <span class="k">do</span> 
        <span onmouseout="hideTip(event, 'fs43', 90)" onmouseover="showTip(event, 'fs43', 90)" class="k">where</span> (<span onmouseout="hideTip(event, 'fs41', 91)" onmouseover="showTip(event, 'fs41', 91)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 92)" onmouseover="showTip(event, 'fs44', 92)" class="i">Distance</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 93)" onmouseover="showTip(event, 'fs47', 93)" class="i">Value</span> <span class="o">&lt;</span> <span class="n">4.011384e+18</span><span class="o">&lt;</span>_<span class="o">&gt;</span>)
        <span onmouseout="hideTip(event, 'fs46', 94)" onmouseover="showTip(event, 'fs46', 94)" class="k">select</span> <span onmouseout="hideTip(event, 'fs41', 95)" onmouseover="showTip(event, 'fs41', 95)" class="i">e</span> } 
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 96)" onmouseover="showTip(event, 'fs8', 96)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 97)" onmouseover="showTip(event, 'fs9', 97)" class="i">toList</span></pre>
</td>
</tr>
</table>

<p>クエリ言語では単純な <code>where</code> や <code>select</code> 以外にも、
様々な演算子がサポートされています。
たとえば地球からの距離でソートした後、近い距離にある恒星を
上位10個取得することもできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs40', 98)" onmouseover="showTip(event, 'fs40', 98)" class="i">query</span> { <span class="k">for</span> <span onmouseout="hideTip(event, 'fs41', 99)" onmouseover="showTip(event, 'fs41', 99)" class="i">e</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs39', 100)" onmouseover="showTip(event, 'fs39', 100)" class="i">astronomy</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 101)" onmouseover="showTip(event, 'fs42', 101)" class="i">Stars</span> <span class="k">do</span> 
        <span onmouseout="hideTip(event, 'fs48', 102)" onmouseover="showTip(event, 'fs48', 102)" class="k">sortBy</span> <span onmouseout="hideTip(event, 'fs41', 103)" onmouseover="showTip(event, 'fs41', 103)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 104)" onmouseover="showTip(event, 'fs44', 104)" class="i">Distance</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 105)" onmouseover="showTip(event, 'fs47', 105)" class="i">Value</span>
        <span onmouseout="hideTip(event, 'fs49', 106)" onmouseover="showTip(event, 'fs49', 106)" class="k">take</span> <span class="n">10</span>
        <span onmouseout="hideTip(event, 'fs46', 107)" onmouseover="showTip(event, 'fs46', 107)" class="k">select</span> <span onmouseout="hideTip(event, 'fs41', 108)" onmouseover="showTip(event, 'fs41', 108)" class="i">e</span> } 
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 109)" onmouseover="showTip(event, 'fs8', 109)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 110)" onmouseover="showTip(event, 'fs9', 110)" class="i">toList</span></pre>
</td>
</tr>
</table>

<h3>Freebase クエリ演算子</h3>

<p>F# 3.0のクエリ演算子の他に、
<code>FSharp.Data.FreebaseOperators</code> 名前空間には
<code>ApproximatelyMatches</code> <code>ApproximatelyOneOf</code> <code>ApproximateCount</code> <code>Count</code>
といったFreebase固有の演算子が定義されています。
これらはそれぞれ固有のMQL演算子に変換されます。</p>

<p>たとえば以下のコードでは <code>Count</code> と <code>ApproximateCount</code> を使って
歴代のアメリカ大統領の人数を数えています
(今回の場合、正確な人数を数えれば十分なので <code>ApproximateCount</code> は
あまり有効ではありません)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 111)" onmouseover="showTip(event, 'fs1', 111)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 112)" onmouseover="showTip(event, 'fs2', 112)" class="i">Data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs50', 113)" onmouseover="showTip(event, 'fs50', 113)" class="i">FreebaseOperators</span>

<span onmouseout="hideTip(event, 'fs3', 114)" onmouseover="showTip(event, 'fs3', 114)" class="i">data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 115)" onmouseover="showTip(event, 'fs16', 115)" class="i">Society</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 116)" onmouseover="showTip(event, 'fs51', 116)" class="i">Government</span><span class="o">.</span><span class="i">``US Presidents``</span><span class="o">.</span><span class="i">Count</span>()
<span onmouseout="hideTip(event, 'fs3', 117)" onmouseover="showTip(event, 'fs3', 117)" class="i">data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 118)" onmouseover="showTip(event, 'fs16', 118)" class="i">Society</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 119)" onmouseover="showTip(event, 'fs51', 119)" class="i">Government</span><span class="o">.</span><span class="i">``US Presidents``</span><span class="o">.</span><span class="i">ApproximateCount</span>()</pre>
</td>
</tr>
</table>

<p>たとえば文字列を扱う場合には <code>ApproximatelyMatches</code> を使うとよいでしょう。
以下では特定の文字列に <strong>およそ一致する</strong> 書籍を検索しています：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 120)" onmouseover="showTip(event, 'fs52', 120)" class="i">topBooksWithNameContaining</span> (<span onmouseout="hideTip(event, 'fs53', 121)" onmouseover="showTip(event, 'fs53', 121)" class="i">s</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs34', 122)" onmouseover="showTip(event, 'fs34', 122)" class="i">string</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs40', 123)" onmouseover="showTip(event, 'fs40', 123)" class="i">query</span> { <span class="k">for</span> <span onmouseout="hideTip(event, 'fs54', 124)" onmouseover="showTip(event, 'fs54', 124)" class="i">book</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs3', 125)" onmouseover="showTip(event, 'fs3', 125)" class="i">data</span><span class="o">.</span><span class="i">``Arts and Entertainment``</span><span class="o">.</span><span class="i">Books</span><span class="o">.</span><span class="i">Books</span> <span class="k">do</span>
            <span onmouseout="hideTip(event, 'fs43', 126)" onmouseover="showTip(event, 'fs43', 126)" class="k">where</span> (<span onmouseout="hideTip(event, 'fs54', 127)" onmouseover="showTip(event, 'fs54', 127)" class="i">book</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 128)" onmouseover="showTip(event, 'fs22', 128)" class="i">Name</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 129)" onmouseover="showTip(event, 'fs55', 129)" class="i">ApproximatelyMatches</span> <span onmouseout="hideTip(event, 'fs53', 130)" onmouseover="showTip(event, 'fs53', 130)" class="i">s</span>)
            <span onmouseout="hideTip(event, 'fs49', 131)" onmouseover="showTip(event, 'fs49', 131)" class="k">take</span> <span class="n">10</span> 
            <span onmouseout="hideTip(event, 'fs46', 132)" onmouseover="showTip(event, 'fs46', 132)" class="k">select</span> <span onmouseout="hideTip(event, 'fs54', 133)" onmouseover="showTip(event, 'fs54', 133)" class="i">book</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 134)" onmouseover="showTip(event, 'fs22', 134)" class="i">Name</span> }
 
<span onmouseout="hideTip(event, 'fs52', 135)" onmouseover="showTip(event, 'fs52', 135)" class="i">topBooksWithNameContaining</span> <span class="s">&quot;</span><span class="s">1984</span><span class="s">&quot;</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 136)" onmouseover="showTip(event, 'fs8', 136)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 137)" onmouseover="showTip(event, 'fs9', 137)" class="i">toList</span></pre>
</td>
</tr>
</table>

<h2>プロバイダーの詳細機能</h2>

<p>Freebase 型プロバイダーには非常に多くの機能があるため、
それらのすべてをここで紹介することはできません。
一部の機能については既に紹介しましたが、より詳しいドキュメントについては
このページからリンクしてある記事を参照してください。
簡単に紹介すると以下のような機能があります：</p>

<ul>
<li>多くのクエリは効率よくMQL言語へと変換されます。
これらはデフォルトではクライアントサイドでは実行できません。</li>
<li>特定のサンプルについては <code>Individuals</code> 以下にあるオブジェクトの
各コレクションから取得できます。
この機能を使うとたとえば <code>Hydrogen</code> (水素)や <code>Bob Dylan</code> といった
厳密な名前をつかって特定のデータをプログラム上で取得することができます。</li>
<li>Freebase上のデータに対して大まかな数を計算したり、
文字列を大まかに一致させるための独自の演算子がサポートされています。</li>
<li>画像のURLは <code>GetImages()</code> メソッドで取得できます。
また、1番目の画像は <code>MainImage</code> プロパティで取得できます。</li>
<li>Freebaseの日付によるスナップショットをサポートしています。
つまり特定の日付におけるFreebaseデータベースの状態を参照できます
(また、スキーマが変更されない限りはアプリケーションが
壊れないということでもあります)。</li>
<li>スキーマ情報をクライアントサイドでキャッシュするというオプションの機能を
使うことによって、型を迅速かつ効果的にチェックできます。</li>
<li>測定単位をサポートします。
たとえば化学元素の <code>Atomic mass</code> (原子質量)プロパティは自動的にSI単位である
キログラムへと変換されます。
この情報は測定単位を使ってF#の型システム上で静的に伝搬されます。</li>
<li>大量のFreebaseデータに対してクエリを投げたい場合、
Googleで登録した後にカスタムAPIキーを取得します。
このキーは型プロバイダーのstatic引数で指定できます。</li>
</ul>

<h3>APIキーを指定する</h3>

<p>FreebaseのAPIにはリクエスト数の制限があり、
当初はデバッグ用にある程度の割り当て分しか使うことが出来ません。
もしも(403) Forbiddenエラーが出たのであれば、それはつまり
リクエスト数の上限に達したということです。
Freebaseサービスを有効化するためにはAPIキーが必要です。
そうすれば1日あたり100,000件のリクエストを送信できるようになります。
F# Data ライブラリには <code>FreebaseDataProvider</code> という型があり、
この型にはAPIキーなど、いくつかのstatic引数を指定することができます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[&lt;<span onmouseout="hideTip(event, 'fs56', 138)" onmouseover="showTip(event, 'fs56', 138)" class="i">Literal</span>&gt;]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 139)" onmouseover="showTip(event, 'fs57', 139)" class="i">FreebaseApiKey</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">&lt;</span><span class="s">freebaseを有効にするgoogle</span><span class="s"> </span><span class="s">API</span><span class="s"> </span><span class="s">キーをここに入力</span><span class="s">&gt;</span><span class="s">&quot;</span>

<span class="c">//type FreebaseDataWithKey = FreebaseDataProvider&lt;Key=FreebaseApiKey&gt;</span>
<span class="c">//let dataWithKey = FreebaseDataWithKey.GetDataContext()</span></pre>
</td>
</tr>
</table>

<h3>MQLクエリのデバッグ</h3>

<p>Freebase 型プロバイダーの仕組みを知りたい場合、
あるいはパフォーマンスの問題をデバッグしたい場合には
プロバイダーがFreebaseに送信するリクエストを確認するとよいでしょう。
そのためには <code>SendingRequest</code> イベントに登録します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs3', 140)" onmouseover="showTip(event, 'fs3', 140)" class="i">data</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 141)" onmouseover="showTip(event, 'fs58', 141)" class="i">DataContext</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 142)" onmouseover="showTip(event, 'fs59', 142)" class="i">SendingRequest</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 143)" onmouseover="showTip(event, 'fs60', 143)" class="i">Add</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs61', 144)" onmouseover="showTip(event, 'fs61', 144)" class="i">e</span> <span class="k">-&gt;</span> 
  <span onmouseout="hideTip(event, 'fs10', 145)" onmouseover="showTip(event, 'fs10', 145)" class="i">printfn</span> <span class="s">&quot;</span><span class="s">request</span><span class="s">:</span><span class="s"> </span><span class="s">%</span><span class="s">A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs61', 146)" onmouseover="showTip(event, 'fs61', 146)" class="i">e</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 147)" onmouseover="showTip(event, 'fs62', 147)" class="i">RequestUri</span>)

<span onmouseout="hideTip(event, 'fs3', 148)" onmouseover="showTip(event, 'fs3', 148)" class="i">data</span><span class="o">.</span><span class="i">``Science and Technology``</span><span class="o">.</span><span class="i">Chemistry</span><span class="o">.</span>
     <span class="i">``Chemical Elements``</span><span class="o">.</span><span class="i">Individuals</span><span class="o">.</span><span class="i">Hydrogen</span><span class="o">.</span><span class="i">``Atomic mass``</span><span class="o">.</span><span class="i">Mass</span></pre>
</td>
</tr>
</table>

<h2>関連する記事</h2>

<ul>
<li><a href="http://www.tryfsharp.org/Learn/data-science">Try F#: Data Science</a> -
Try F# の Data Science チュートリアルにはFreebase 型プロバイダーを使った
様々な例があります。</li>
<li><a href="http://blogs.msdn.com/b/fsharpteam/archive/2012/09/21/the-f-3-0-freebase-type-provider-sample-integrating-internet-scale-data-sources-into-a-strongly-typed-language.aspx">Visual F# Team Blog: Integrating Internet-Scale Data Sources into a Strongly Typed Language</a> - Freebase 型プロバイダーの基本に関する4つのシリーズ記事です</li>
<li><a href="http://skillsmatter.com/podcast/scala/an-informal-deep-dive-with-don-syme-the-freebase-type-provider">Don Syme氏によるデモ</a> - An Informal Deep Dive With Don Syme: The Freebase Type Provider</li>
<li><a href="../../reference/fsharp-data-freebasedataprovider.html">API リファレンス: FreebaseDataProvider 型プロバイダー</a></li>
<li><a href="../../reference/fsharp-data-freebaseoperators.html">API リファレンス: FreebaseOperators モジュール</a></li>
</ul>

<div class="tip" id="fs1">namespace FSharp</div>
<div class="tip" id="fs2">namespace FSharp.Data</div>
<div class="tip" id="fs3">val data : FreebaseData.ServiceTypes.FreebaseService<br /><br />Full name: Freebase.data</div>
<div class="tip" id="fs4">type FreebaseData =<br />&#160;&#160;static member GetDataContext : unit -&gt; FreebaseService<br />&#160;&#160;nested type ServiceTypes<br /><br />Full name: FSharp.Data.FreebaseData<br /><em><br /><br />&lt;summary&gt;Typed representation of Freebase data. See http://www.freebase.com for terms and conditions.&lt;/summary&gt;</em></div>
<div class="tip" id="fs5">FreebaseData.GetDataContext() : FreebaseData.ServiceTypes.FreebaseService</div>
<div class="tip" id="fs6">val elements : FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementDataCollection<br /><br />Full name: Freebase.elements</div>
<div class="tip" id="fs7">val all : FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementData list<br /><br />Full name: Freebase.all</div>
<div class="tip" id="fs8">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs9">val toList : source:seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.Seq.toList</div>
<div class="tip" id="fs10">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs11">val length : source:seq&lt;&#39;T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.length</div>
<div class="tip" id="fs12">val hydrogen : FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementDataIndividuals.Hydrogen Item<br /><br />Full name: Freebase.hydrogen</div>
<div class="tip" id="fs13">property FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementDataCollection.Individuals: FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementDataIndividuals<br /><em><br /><br />&lt;summary&gt;A sample set of named individuals (up to 1000 in size) of type &amp;apos;Chemical Element&amp;apos; in the web data store&lt;/summary&gt;</em></div>
<div class="tip" id="fs14">property FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementDataIndividuals.Hydrogen: FreebaseData.ServiceTypes.Chemistry.Chemistry.Chemical_elementDataIndividuals.Hydrogen Item<br /><em><br /><br />&lt;summary&gt;Hydrogen (&#160;/ˈhaɪdrɵdʒɨn/ HY-drə-jin) is the chemical element with atomic number 1. It is represented by the symbol H. With an average atomic weight of 1.00794&#160;u (1.007825&#160;u for hydrogen-1), hydrogen is the lightest element and its monatomic form (H1) is the most abundant chemical substance, constituting roughly 75% of the Universe&amp;apos;s baryonic mass. Non-remnant stars are mainly composed of hydrogen in its plasma state.<br />At standard temperature and pressure, hydrogen is a colorless, odorless, tasteless, non-toxic, nonmetallic, highly combustible diatomic gas with the molecular formula H2. Naturally-occurring atomic hydrogen is rare on Earth because hydrogen readily forms covalent compounds with most elements and is present in the water molecule and in most organic compounds. Hydrogen plays a particularly important role in acid-base chemistry with many reactions exchanging protons between soluble molecules.<br />In ionic compounds, it can take a negative charge (an anion known as a hydride and written as H), or as a positively charged species H. The latter cation is written as though composed of a bare proton, but in reality, hydrogen cations in ionic compounds always occur as more complex &lt;/summary&gt;</em></div>
<div class="tip" id="fs15">val firstnames : string []<br /><br />Full name: Freebase.firstnames</div>
<div class="tip" id="fs16">property FreebaseData.ServiceTypes.FreebaseService.Society: FreebaseData.ServiceTypes.DomainObjects.Society<br /><em><br /><br />&lt;summary&gt;Contains the objects of the domain category &amp;apos;Society&amp;apos; defined in the web data store organized by type&lt;/summary&gt;</em></div>
<div class="tip" id="fs17">property FreebaseData.ServiceTypes.DomainObjects.Society.Celebrities: FreebaseData.ServiceTypes.DomainObjects.CelebritiesDomain<br /><em><br /><br />&lt;summary&gt;&lt;/summary&gt;</em></div>
<div class="tip" id="fs18">property FreebaseData.ServiceTypes.DomainObjects.CelebritiesDomain.Celebrities: FreebaseData.ServiceTypes.Celebrities.Celebrities.CelebrityDataCollection<br /><em><br /><br />&lt;summary&gt;A celebrity is a widely-recognized or famous person who commands a high degree of public and media attention.            A celebrity is a widely-recognized or famous person who commands a high degree of public and media attention. Do not include non-celebrities in this type. &lt;/summary&gt;</em></div>
<div class="tip" id="fs19">val truncate : count:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.truncate</div>
<div class="tip" id="fs20">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs21">val celeb : FreebaseData.ServiceTypes.Celebrities.Celebrities.CelebrityData</div>
<div class="tip" id="fs22">property Runtime.Freebase.IFreebaseObject.Name: string</div>
<div class="tip" id="fs23">System.String.Split(params separator: char []) : string []<br />System.String.Split(separator: string [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int) : string []<br />System.String.Split(separator: string [], count: int, options: System.StringSplitOptions) : string []<br />System.String.Split(separator: char [], count: int, options: System.StringSplitOptions) : string []</div>
<div class="tip" id="fs24">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs25">val ofSeq : source:seq&lt;&#39;T&gt; -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Array.ofSeq</div>
<div class="tip" id="fs26">val surnames : string []<br /><br />Full name: Freebase.surnames</div>
<div class="tip" id="fs27">property FreebaseData.ServiceTypes.DomainObjects.Society.People: FreebaseData.ServiceTypes.DomainObjects.PeopleDomain<br /><em><br /><br />&lt;summary&gt;                       The people commons is a collection of common types that describe people in the system. The properties of person should be common across all people, i.e. birth date, birth place, relatives.   People will often carry other types as well, such as author, basketball player, or recording artist. Properties that are particular to those pursuits should be included in those types, not in the person type. Similarly, it is recommend that &amp;apos;birth date&amp;apos; and properties of the person schema not be replicated in other Types. Instead, &amp;apos;person&amp;apos; should be an &amp;apos;included type&amp;apos; for these types, which means that when a topic is typed &amp;apos;author&amp;apos; it will also be automatically typed &amp;apos;person&amp;apos; and the properties of person will be added as well.                         &lt;/summary&gt;</em></div>
<div class="tip" id="fs28">val name : FreebaseData.ServiceTypes.People.People.Family_nameData</div>
<div class="tip" id="fs29">val randomElement : (string [] -&gt; string)<br /><br />Full name: Freebase.randomElement</div>
<div class="tip" id="fs30">val random : System.Random</div>
<div class="tip" id="fs31">namespace System</div>
<div class="tip" id="fs32">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />System.Random() : unit<br />System.Random(Seed: int) : unit</div>
<div class="tip" id="fs33">val arr : string []</div>
<div class="tip" id="fs34">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs35">System.Random.Next() : int<br />System.Random.Next(maxValue: int) : int<br />System.Random.Next(minValue: int, maxValue: int) : int</div>
<div class="tip" id="fs36">property System.Array.Length: int</div>
<div class="tip" id="fs37">val i : int32</div>
<div class="tip" id="fs38">val name : string</div>
<div class="tip" id="fs39">val astronomy : FreebaseData.ServiceTypes.DomainObjects.AstronomyDomain<br /><br />Full name: Freebase.astronomy</div>
<div class="tip" id="fs40">val query : Linq.QueryBuilder<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.query</div>
<div class="tip" id="fs41">val e : FreebaseData.ServiceTypes.Astronomy.Astronomy.StarData</div>
<div class="tip" id="fs42">property FreebaseData.ServiceTypes.DomainObjects.AstronomyDomain.Stars: FreebaseData.ServiceTypes.Astronomy.Astronomy.StarDataCollection<br /><em><br /><br />&lt;summary&gt;A star is really meant to be a single stellar object, not just something that looks like a star from earth. However, in many cases, other objects, such as multi-star systems, were originally thought to be stars. Because people have historically believed these to be stars, they are type as such, but they are also typed as what we now know them to be. &lt;/summary&gt;</em></div>
<div class="tip" id="fs43">custom operation: where (bool)<br /><br />Calls Linq.QueryBuilder.Where </div>
<div class="tip" id="fs44">property FreebaseData.ServiceTypes.Astronomy.Astronomy.Celestial_objectData.Distance: System.Nullable&lt;float&lt;Data.UnitSystems.SI.UnitNames.metre&gt;&gt;<br /><em><br /><br />&lt;summary&gt;The best approximated measurement from the earth to the object in parsecs.&lt;/summary&gt;</em></div>
<div class="tip" id="fs45">property System.Nullable.HasValue: bool</div>
<div class="tip" id="fs46">custom operation: select (&#39;Result)<br /><br />Calls Linq.QueryBuilder.Select </div>
<div class="tip" id="fs47">property System.Nullable.Value: float&lt;Data.UnitSystems.SI.UnitNames.metre&gt;</div>
<div class="tip" id="fs48">custom operation: sortBy (&#39;Key)<br /><br />Calls Linq.QueryBuilder.SortBy </div>
<div class="tip" id="fs49">custom operation: take (int)<br /><br />Calls Linq.QueryBuilder.Take </div>
<div class="tip" id="fs50">module FreebaseOperators<br /><br />from FSharp.Data</div>
<div class="tip" id="fs51">property FreebaseData.ServiceTypes.DomainObjects.Society.Government: FreebaseData.ServiceTypes.DomainObjects.GovernmentDomain<br /><em><br /><br />&lt;summary&gt;The government domain is for all things related to the people and institutions that make up a government. It includes political parties, politicians, elections, government offices, electoral districts, etc., and covers all levels of government, from local to national.The types in this domain have been designed so that they can be used for all types of government, including (but not limited to) US-style federal republics, Westminster-style parliamentary systems, Chinese-style communist governments, and monarchies. Please let us know if you come across a system that doesn&amp;apos;t seem to fit the model, so that we can try to accomodate it.For information about entering data for politicians, elected officials, and other public servants, see Entering information about electioned officials and public servants.            The government domain is for all things related to the people and institutions that make up a government. It includes political parties, politicians, elections, government offices, electoral districts, etc., and covers all levels of government, from local to national.The types in this domain have been designed so that they can be used for all types of government, including (but not limited to) US-style federal republics, Westminster-style parliamentary systems, Chinese-style communist governments, and monarchies. Please let us know if you come across a system that doesn&amp;apos;t seem to fit the model, so that we can try to accomodate it.For information about entering data for politicians, elected officials, and other public servants, see Entering information about elected officials and public servants.                     &lt;/summary&gt;</em></div>
<div class="tip" id="fs52">val topBooksWithNameContaining : s:string -&gt; System.Linq.IQueryable&lt;string&gt;<br /><br />Full name: Freebase.topBooksWithNameContaining</div>
<div class="tip" id="fs53">val s : string</div>
<div class="tip" id="fs54">val book : FreebaseData.ServiceTypes.Book.Book.BookData</div>
<div class="tip" id="fs55">member System.String.ApproximatelyMatches : _pat:string -&gt; bool</div>
<div class="tip" id="fs56">Multiple items<br />type LiteralAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; LiteralAttribute<br /><br />Full name: Microsoft.FSharp.Core.LiteralAttribute<br /><br />--------------------<br />new : unit -&gt; LiteralAttribute</div>
<div class="tip" id="fs57">val FreebaseApiKey : string<br /><br />Full name: Freebase.FreebaseApiKey</div>
<div class="tip" id="fs58">property Runtime.Freebase.FreebaseDataContext.DataContext: Runtime.Freebase.FreebaseDataContextSettings</div>
<div class="tip" id="fs59">event Runtime.Freebase.FreebaseDataContextSettings.SendingRequest: IEvent&lt;Handler&lt;Runtime.Freebase.FreebaseSendingRequestArgs&gt;,Runtime.Freebase.FreebaseSendingRequestArgs&gt;</div>
<div class="tip" id="fs60">member System.IObservable.Add : callback:(&#39;T -&gt; unit) -&gt; unit</div>
<div class="tip" id="fs61">val e : Runtime.Freebase.FreebaseSendingRequestArgs</div>
<div class="tip" id="fs62">property Runtime.Freebase.FreebaseSendingRequestArgs.RequestUri: System.Uri</div>

        </div>
        <div class="span3">
          <a href="/FSharp.Data/ja/index.html">
            <img src="/FSharp.Data/ja/../images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">
              <a href="/FSharp.Data/ja/index.html" class="nflag"><img src="/FSharp.Data/ja/../images/ja.png" /></a>
              <a href="/FSharp.Data/ja/../index.html" class="nflag nflag2"><img src="/FSharp.Data/ja/../images/en.png" /></a>
              F# Data
            </li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/FSharp.Data">NuGet経由でライブラリを取得</a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data">GitHub上のソースコード</a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data/blob/master/LICENSE.md">License (Apache 2.0)</a></li>
            <li><a href="http://github.com/fsharp/FSharp.Data/blob/master/RELEASE_NOTES.md">リリースノート</a></li>
            <li><span>
                <a href="/FSharp.Data/ja/contributing.html">F# Dataに貢献する</a>
                (<a href="http://github.com/fsharp/FSharp.Data/blob/master/CONTRIBUTING.md">En</a>)
                </span></li>
            
            <li class="nav-header">F# Data ライブラリ</li>
            <li><span>
                <a href="/FSharp.Data/ja/index.html">はじめに</a>
                (<a href="/FSharp.Data/ja/../index.html">En</a>)
                </span></li>
            <li class="divider"></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/JsonProvider.html">JSON 型プロバイダー</a>
                (<a href="/FSharp.Data/ja/../library/JsonProvider.html">En</a>)
                </span></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/XmlProvider.html">XML 型プロバイダー</a>
                (<a href="/FSharp.Data/ja/../library/XmlProvider.html">En</a>)
                </span></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/CsvProvider.html">CSV 型プロバイダー</a>
                (<a href="/FSharp.Data/ja/../library/CsvProvider.html">En</a>)
                </span></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/WorldBank.html">WorldBank プロバイダー</a>
                (<a href="/FSharp.Data/ja/../library/WorldBank.html">En</a>)
                </span></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/Freebase.html">Freebase プロバイダー</a>
                (<a href="/FSharp.Data/ja/../library/Freebase.html">En</a>)
                </span></li>
            <li class="divider"></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/JsonValue.html">JSON パーサーおよびリーダー</a>
                (<a href="/FSharp.Data/ja/../library/JsonValue.html">En</a>)
                </span></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/CsvFile.html">CSV パーサーおよびリーダー</a>
                (<a href="/FSharp.Data/ja/../library/CsvFile.html">En</a>)
                </span></li>
            <li><span>
                <a href="/FSharp.Data/ja/library/Http.html">HTTP ユーティリティ</a>
                (<a href="/FSharp.Data/ja/../library/Http.html">En</a>)
                </span></li>

            <li class="nav-header">チュートリアル</li>
            <li><span>
                <a href="/FSharp.Data/ja/tutorials/JsonToXml.html">JSONとXMLの相互変換</a>
                (<a href="/FSharp.Data/ja/../tutorials/JsonToXml.html">En</a>)
                </span></li>

            <li><span>
                <a href="/FSharp.Data/ja/tutorials/JsonAnonymizer.html">JSONの匿名化</a>
                (<a href="/FSharp.Data/ja/../tutorials/JsonAnonymizer.html">En</a>)
                </span></li>

            <li class="nav-header">リファレンス</li>
            <li><span>
                <a href="/FSharp.Data/ja/../reference/index.html">API リファレンス (En)</a>
                </span></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fsharp/FSharp.Data"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
  </html>